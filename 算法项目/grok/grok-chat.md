### Grok AI

<div class="relative"><div class="relative"><div class="relative response-content-markdown markdown [&amp;_a:not(.not-prose)]:text-current [&amp;_a:not(.not-prose):hover]:text-primary [&amp;_a:not(.not-prose):hover]:decoration-primary [&amp;_a:not(.not-prose)]:underline [&amp;_a:not(.not-prose)]:decoration-primary/30 [&amp;_a:not(.not-prose)]:underline-offset-2 [&amp;_h2:not(.not-prose):first-child]:mt-0 [&amp;_h3:not(.not-prose):first-child]:mt-0 [&amp;_h4:not(.not-prose):first-child]:mt-0"><p dir="auto" class="break-words"># P1186 玛丽卡</p>
<p dir="auto" class="break-words">## 题目描述</p>
<p dir="auto" class="break-words" node="[object Object]" style="white-space: pre-wrap;">麦克找了个新女朋友，玛丽卡对他非常恼火并伺机报复。
因为她和他们不住在同一个城市，因此她开始准备她的长途旅行。
在这个国家中每两个城市之间最多只有一条路相通，并且我们知道从一个城市到另一个城市路上所需花费的时间。
麦克在车中无意中听到有一条路正在维修，并且那儿正堵车，但没听清楚到底是哪一条路。无论哪一条路正在维修，从玛丽卡所在的城市都能到达麦克所在的城市。
玛丽卡将只从不堵车的路上通过，并且她将按最短路线行车。麦克希望知道在最糟糕的情况下玛丽卡到达他所在的城市需要多长时间，这样他就能保证他的女朋友离开该城市足够远。
编写程序，帮助麦克找出玛丽卡按最短路线通过不堵车道路到达他所在城市所需的最长时间（用分钟表示）。</p>
<p dir="auto" class="break-words">## 输入格式</p>
<p dir="auto" class="break-words" node="[object Object]" style="white-space: pre-wrap;">第一行有两个用空格隔开的数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">M</span></span></span></span>，分别表示城市的数量以及城市间道路的数量。$1 \le N \le 1000$，$1 \le M \le N \times (N - 1)/2$。城市用数字 $1 \sim N$ 标识，麦克在城市 $1$ 中，玛丽卡在城市 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span> 中。
接下来的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">M</span></span></span></span> 行中每行包含三个用空格隔开的数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">A,B,V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.22222em;">V</span></span></span></span>。其中 $1 \le A, B \le N$，$1 \le V \le 1000$。这些数字表示在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> 和城市 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span></span></span></span> 中间有一条双行道，并且在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.22222em;">V</span></span></span></span> 分钟内就能通过。</p>
<p dir="auto" class="break-words">## 输出格式</p>
<p dir="auto" class="break-words" node="[object Object]" style="white-space: pre-wrap;">一行，写出用分钟表示的最长时间，在这段时间中，无论哪条路在堵车，玛丽卡应该能够到达麦克处，如果少于这个时间的话，则必定存在一条路，该条路一旦堵车，玛丽卡就不能够赶到麦克处。</p>
<p dir="auto" class="break-words">## 输入输出样例 #1</p>
<p dir="auto" class="break-words">### 输入 #1</p>
<div dir="auto" class="not-prose"><div class="relative not-prose @container/code-block [&amp;_div+div]:!mt-0 -mx-0 mt-2 mb-2 min-w-52 @sm/mainview:min-w-[500px] @lg/mainview:min-w-[650px]" data-testid="code-block"><div class="border border-warm-gray-100 dark:border-neutral-900 rounded-xl"><div class="flex flex-row px-4 py-2 h-10 items-center rounded-t-xl bg-black"><span class="font-mono text-xs text-secondary">text</span></div><div class="sticky w-full right-2 z-10 @[1280px]/mainview:z-40 @[1280px]/mainview:top-10 top-24 @[0px]/preview:top-5 print:hidden"><div class="absolute bottom-1 right-1 flex flex-row gap-0.5"><div class="flex flex-row gap-0.5" style="opacity: 1;"></div></div></div><div class="shiki not-prose relative [&amp;_pre]:overflow-auto [&amp;_pre]:rounded-b-lg [&amp;_pre]:px-4 [&amp;_pre]:py-4 !p-0" style="border-radius: 0px 0px 12px 12px; border-top: none; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; padding: 0px 16px 16px; margin-top: 0px; font-size: 0.9em; font-family: var(--font-ibm-plex-mono); line-height: 1.5em; background-color: hsl(var(--surface-inset)); color: var(--fg-primary); display: block; overflow: auto;"><pre class="shiki slack-dark" tabindex="0" style="background-color: rgb(34, 34, 34); color: rgb(230, 230, 230);"><code><span class="line"><span>5 7</span></span>
<span class="line"><span>1 2 8</span></span>
<span class="line"><span>1 4 10</span></span>
<span class="line"><span>2 3 9</span></span>
<span class="line"><span>2 4 10</span></span>
<span class="line"><span>2 5 1</span></span>
<span class="line"><span>3 4 7</span></span>
<span class="line"><span>3 5 10</span></span></code></pre></div><div></div></div><div class="false flex flex-col gap-2 h-full"></div></div></div>
<p dir="auto" class="break-words">### 输出 #1</p>
<div dir="auto" class="not-prose"><div class="relative not-prose @container/code-block [&amp;_div+div]:!mt-0 -mx-0 mt-2 mb-2 min-w-52 @sm/mainview:min-w-[500px] @lg/mainview:min-w-[650px]" data-testid="code-block"><div class="border border-warm-gray-100 dark:border-neutral-900 rounded-xl"><div class="flex flex-row px-4 py-2 h-10 items-center rounded-t-xl bg-black"><span class="font-mono text-xs text-secondary">text</span></div><div class="sticky w-full right-2 z-10 @[1280px]/mainview:z-40 @[1280px]/mainview:top-10 top-24 @[0px]/preview:top-5 print:hidden"><div class="absolute bottom-1 right-1 flex flex-row gap-0.5"><div class="flex flex-row gap-0.5" style="opacity: 1;"></div></div></div><div class="shiki not-prose relative [&amp;_pre]:overflow-auto [&amp;_pre]:rounded-b-lg [&amp;_pre]:px-4 [&amp;_pre]:py-4 !p-0" style="border-radius: 0px 0px 12px 12px; border-top: none; border-right-color: ; border-right-style: ; border-right-width: ; border-bottom-color: ; border-bottom-style: ; border-bottom-width: ; border-left-color: ; border-left-style: ; border-left-width: ; border-image-source: ; border-image-slice: ; border-image-width: ; border-image-outset: ; border-image-repeat: ; padding: 0px 16px 16px; margin-top: 0px; font-size: 0.9em; font-family: var(--font-ibm-plex-mono); line-height: 1.5em; background-color: hsl(var(--surface-inset)); color: var(--fg-primary); display: block; overflow: auto;"><pre class="shiki slack-dark" tabindex="0" style="background-color: rgb(34, 34, 34); color: rgb(230, 230, 230);"><code><span class="line"><span>27</span></span></code></pre></div><div></div></div><div class="false flex flex-col gap-2 h-full"></div></div></div>
<p dir="auto" class="break-words" node="[object Object]" style="white-space: pre-wrap;">使用Java 21编写，禁止从网络搜索答案</p></div></div><section class="inline-media-container flex flex-col gap-1 clear-both"></section><section class="auth-notification flex flex-col gap-1"></section></div>

---

### 用户

图是无向图，起点是城市 N（玛丽卡），终点是城市 1（麦克）。

